# 정확한 답이 필요하다면 float와 double은 피하라

- float와 double은 근사치로 계산하도록 설계되어있다.
- 정확한 결과가 필요하면 사용하지 마라


# 실수형의 정밀도
- 실수형은 정수형과 달리 부동소수점 방식을 이용해서 값을 저장한다. 소수점의 위치를 지수(exponent)로 표현할 수 있다
- 274,000,000,000,000은 +(부호) 2.74(가수) x 10^14 ( exponent = 14 : 지수)
- 0.00000000000274는 +(부호) 2.74(가수) x 10^-12 (exponent = -12 : 지수)
- 실수형은 정밀도에 따라 오차가 발생한다. float는 정밀도가 7자리이다. 즉, 10진수로 7자리의 수를 오차없이 저장할 수 있고 double은 오차없이 15~16자리까지 오차없이 저장할 수 있다.
- 여기서 오차가 발생하는 이유는? 무한소수 때문이다. 3.14와 같이 무한소수이거나 10진수에는 유한소수이더라도 2진수로 변환하면 무한소수가 되는 경우들이 존재한다. 이럴경우 모든 자리수를 정확하게 표현하지 못하기때문에 오차가 발생한다.
- 즉, 한정된 메모리 공간에서 무한의 실수를 표현하기 위해 정밀도를 포기하고 표현의 범위를 넓힌것이다.


```java

double doubleInput = 0.123456789123456789;
float  floatInput  = 0.123456789123456789f;

System.out.println(doubleInput);  // 0.12345678912345678
System.out.println(floatInput);   // 0.12345679 6자리까지 정확하게 표견 가능

double result = 0;

for (int i= 0; i<10; i++){
    testNum3 += 0.1;
}
System.out.println("result : " + testNum3); // 1이 나오지 않고 0.9999999999999999가 출력

```


# BigDecimal, int, long을 사용

- 정확도가 중요한 로직이라면 (ex : 결제,정산 등등) BigDecimal을 사용
- 정확도도 중요하고 소수점을 추적할 수 있다면 int,long을 사용 (근데 그냥 BigDecimal 사용하는게 좋지 않을까?)
